# Docker Compose for CatchDesMoines Event Crawler
# Usage: docker-compose run --rm crawler --max-pages 3 --dry-run

version: '3.8'

services:
  crawler:
    build: .
    environment:
      - SUPABASE_URL=${SUPABASE_URL}
      - SUPABASE_SERVICE_ROLE_KEY=${SUPABASE_SERVICE_ROLE_KEY}
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - CLAUDE_API=${ANTHROPIC_API_KEY}
    # Mount .env file if it exists
    env_file:
      - .env
