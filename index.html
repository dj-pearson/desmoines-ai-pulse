<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    
    <!-- Open Graph enhanced for Local SEO -->
    <meta property="og:title" content="Des Moines Events & Local Guide | Things to Do in Des Moines, Iowa" />
    <meta property="og:description" content="Discover what's happening this weekend in Des Moines, Iowa. Find local events, new restaurant openings, family activities, and attractions in Des Moines metro area." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://desmoinssider.com" />
    <meta property="og:image" content="https://desmoinssider.com/DMI-Logo.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Des Moines Insider" />
    <meta property="og:region" content="IA" />
    <meta property="og:country-name" content="USA" />
    
    <!-- Performance optimizations for mobile -->
    <meta name="theme-color" content="#2563eb" />
    <meta name="color-scheme" content="light dark" />
    <meta name="mobile-web-app-capable" content="yes" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preload" as="image" href="/DMI-Logo-Header.png" />
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png" />
    <link rel="manifest" href="/site.webmanifest" />
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XGQFFP9BHZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XGQFFP9BHZ');
    </script>
    
    <title>Des Moines Events & Local Guide | Things to Do in Des Moines, Iowa | Des Moines Insider</title>
    <meta name="description" content="Discover the best events, restaurants, and activities in Des Moines, Iowa this weekend. Your complete local guide to Des Moines metro area with real-time updates and AI-powered recommendations." />
    <meta name="author" content="Des Moines Insider" />
    <meta name="keywords" content="Des Moines events, Des Moines Iowa restaurants, things to do Des Moines, Des Moines activities, Des Moines weekend events, West Des Moines, Ankeny events, local Des Moines guide, Des Moines attractions, family activities Des Moines" />
    
    <!-- Enhanced meta tags for AI optimization -->
    <meta name="article:publisher" content="Des Moines Insider" />
    <meta name="article:author" content="Des Moines Insider Team" />
    <meta name="article:published_time" content="2024-01-01T00:00:00Z" />
    <meta name="article:modified_time" content="2024-01-27T00:00:00Z" />
    <meta name="article:section" content="Local Guide" />
    <meta name="article:tag" content="Des Moines, Events, Restaurants, Attractions, Local Guide" />
    
    <!-- Geographic targeting -->
    <meta name="geo.region" content="US-IA" />
    <meta name="geo.placename" content="Des Moines" />
    <meta name="geo.position" content="41.5868;-93.6250" />
    <meta name="ICBM" content="41.5868, -93.6250" />

    <!-- Open Graph enhanced for AI -->
    <meta property="og:title" content="Des Moines Insider - Your Complete Guide to Des Moines Events, Restaurants & Attractions" />
    <meta property="og:description" content="Discover the best events, restaurants, attractions, and playgrounds in Des Moines, Iowa. AI-powered recommendations, real-time updates, and comprehensive local insights." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://desmoinessider.com" />
    <meta property="og:image" content="https://desmoinssider.com/og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Des Moines Insider" />

    <!-- Twitter enhanced for Local SEO -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@desmoinessider" />
    <meta name="twitter:creator" content="@desmoinessider" />
    <meta name="twitter:title" content="Des Moines Events & Local Guide | Things to Do in Des Moines, Iowa" />
    <meta name="twitter:description" content="Discover what's happening this weekend in Des Moines, Iowa. Find local events, restaurants, and family activities in Des Moines metro area." />
    <meta name="twitter:image" content="https://desmoinssider.com/DMI-Logo.png" />

    <!-- JSON-LD Structured Data for Local SEO optimization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Des Moines Insider",
      "alternateName": "Des Moines Local Events & Restaurant Guide",
      "url": "https://desmoinssider.com",
      "description": "Your complete local guide to Des Moines, Iowa events, restaurants, attractions, and activities. Discover what's happening this weekend in Des Moines metro area.",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Des Moines",
        "addressRegion": "Iowa",
        "addressCountry": "US",
        "postalCode": "50309"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 41.5868,
        "longitude": -93.6250
      },
      "areaServed": [
        {
          "@type": "City",
          "name": "Des Moines",
          "sameAs": "https://en.wikipedia.org/wiki/Des_Moines,_Iowa"
        },
        {
          "@type": "City",
          "name": "West Des Moines",
          "sameAs": "https://en.wikipedia.org/wiki/West_Des_Moines,_Iowa"
        },
        {
          "@type": "City",
          "name": "Ankeny",
          "sameAs": "https://en.wikipedia.org/wiki/Ankeny,_Iowa"
        },
        {
          "@type": "City",
          "name": "Urbandale"
        },
        {
          "@type": "City",
          "name": "Johnston"
        },
        {
          "@type": "City",
          "name": "Clive"
        },
        {
          "@type": "City",
          "name": "Waukee"
        }
      ],
      "serviceType": "Local Information Guide",
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Des Moines Local Services",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Des Moines Event Listings",
              "description": "Comprehensive calendar of events happening in Des Moines metro area"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Des Moines Restaurant Guide",
              "description": "Local restaurant directory with new openings and dining recommendations"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Family Activity Guide",
              "description": "Kid-friendly events and attractions in Des Moines area"
            }
          }
        ]
      },
      "publisher": {
        "@type": "Organization",
        "@id": "https://desmoinssider.com/#organization",
        "name": "Des Moines Insider",
        "url": "https://desmoinssider.com",
        "logo": {
          "@type": "ImageObject",
          "url": "https://desmoinssider.com/DMI-Logo.png"
        }
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://desmoinssider.com/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>

    <!-- FAQ Schema for Local SEO optimization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What's happening this weekend in Des Moines?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Des Moines offers exciting weekend activities including the famous Saturday farmers market downtown, family events at Science Center of Iowa, live music in the East Village, outdoor activities at Gray's Lake, and shopping at Jordan Creek Town Center in West Des Moines. Our real-time event calendar shows all current Des Moines weekend activities."
          }
        },
        {
          "@type": "Question",
          "name": "What are the best family-friendly activities in Des Moines?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Top family activities in Des Moines include Blank Park Zoo, Science Center of Iowa, Adventureland in Altoona, numerous playgrounds and parks throughout the metro, seasonal festivals, and kid-friendly events at venues like Ankeny Market & Pavilion. We track over 150 family-friendly locations across the Des Moines area."
          }
        },
        {
          "@type": "Question",
          "name": "Which Des Moines neighborhoods should I explore?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Popular Des Moines area neighborhoods include the trendy East Village for nightlife and dining, West Des Moines for shopping and family activities, Ankeny for community events and trails, downtown for cultural attractions, and the Court Avenue District for entertainment. Each neighborhood offers unique local events and dining options."
          }
        },
        {
          "@type": "Question",
          "name": "How do I find new restaurant openings in Des Moines?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Des Moines Insider tracks new restaurant openings across the metro area including downtown Des Moines, West Des Moines, Ankeny, and surrounding suburbs. We update our restaurant database weekly and provide details on new cuisines, locations, and dining experiences throughout Central Iowa."
          }
        },
        {
          "@type": "Question",
          "name": "What areas does Des Moines Insider cover?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "We cover the entire Des Moines metropolitan area including Des Moines, West Des Moines, Ankeny, Urbandale, Johnston, Clive, Waukee, Altoona, and surrounding Central Iowa communities. Our coverage extends approximately 50 miles from downtown Des Moines to provide comprehensive regional event and dining information."
          }
        }
      ]
    }
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script>
      // Aggressively clear ALL service workers and caches to prevent 404s
      (async function() {
        try {
          // Unregister ALL service workers regardless of environment
          if ('serviceWorker' in navigator) {
            const registrations = await navigator.serviceWorker.getRegistrations();
            await Promise.all(registrations.map(reg => reg.unregister()));
            console.log('Unregistered', registrations.length, 'service workers');
          }
          
          // Clear ALL caches
          if ('caches' in window) {
            const cacheNames = await caches.keys();
            await Promise.all(cacheNames.map(name => caches.delete(name)));
            console.log('Cleared', cacheNames.length, 'caches');
          }
          
          // Force module reload if we're in a preview environment
          if (location.hostname.includes('lovableproject.com') || location.hostname === 'localhost') {
            // Add a timestamp to bust any cached modules
            const timestamp = Date.now();
            window.__VITE_CACHE_BUST__ = timestamp;
            console.log('Cache bust timestamp:', timestamp);
          }
        } catch (e) {
          console.warn('Cache/SW clear failed:', e);
        }
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
